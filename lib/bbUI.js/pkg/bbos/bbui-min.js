/*! bbUI for BBOS VERSION: 0.9.6.153 | github.com/blackberry/bbUI.js/blob/master/LICENSE !*/bb={scroller:null,screens:[],dropdownScrollers:[],windowListeners:[],documentListeners:[],transparentPixel:"data:image/png;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",imageList:null,activityIndicator:null,fileInput:null,button:null,scrollPanel:null,bbmBubble:null,dropdown:null,textInput:null,roundPanel:null,grid:null,pillButtons:null,labelControlContainers:null,slider:null,radio:null,progress:null,checkbox:null,toggle:null,init:function(t){if(t)for(var e in t)bb.options[e]=t[e];window.blackberry&&blackberry.system&&blackberry.system.event&&blackberry.system.event.onHardwareKey&&(bb.options.onbackkey?blackberry.system.event.onHardwareKey(blackberry.system.event.KEY_BACK,bb.options.onbackkey):blackberry.system.event.onHardwareKey(blackberry.system.event.KEY_BACK,bb.popScreen)),bb.device.isRipple=navigator.userAgent.indexOf("Ripple")>=0||window.tinyHippos,bb.device.isPlayBook=navigator.userAgent.indexOf("PlayBook")>=0||1024==window.innerWidth&&600==window.innerHeight||600==window.innerWidth&&1024==window.innerHeight,bb.device.isBB10=bb.device.isPlayBook&&bb.options.bb10ForPlayBook?!0:navigator.userAgent.indexOf("BB10")>=0,bb.device.isBB7=navigator.userAgent.indexOf("7.0.0")>=0||navigator.userAgent.indexOf("7.1.0")>=0,bb.device.isBB6=navigator.userAgent.indexOf("6.0.0")>=0,bb.device.isBB5=navigator.userAgent.indexOf("5.0.0")>=0,bb.device.is1024x600=bb.device.isPlayBook,bb.device.is1280x768=1280==window.innerWidth&&768==window.innerHeight||768==window.innerWidth&&1280==window.innerHeight,bb.device.is720x720=720==window.innerWidth&&720==window.innerHeight,bb.device.is1280x720=1280==window.innerWidth&&720==window.innerHeight||720==window.innerWidth&&1280==window.innerHeight,bb.device.isHiRes=bb.device.isRipple?window.innerHeight>480||window.innerWidth>480:screen.width>480||screen.height>480;var e,i=document.head.querySelectorAll("meta[name=viewport]");for(e=0;i.length>e;e++)try{document.head.removeChild(i[e])}catch(n){}var b=document.createElement("meta");b.setAttribute("name","viewport"),bb.device.isBB10&&!bb.device.is1024x600?b.setAttribute("content","initial-scale="+1/window.devicePixelRatio+",user-scalable=no"):b.setAttribute("content","initial-scale=1.0,width=device-width,user-scalable=no,target-densitydpi=device-dpi"),document.head.appendChild(b);var r=parseInt(bb.cutHex(bb.options.highlightColor).substring(0,2),16),o=parseInt(bb.cutHex(bb.options.highlightColor).substring(2,4),16),l=parseInt(bb.cutHex(bb.options.highlightColor).substring(4,6),16);if(bb.options.shades={R:r,G:o,B:l,darkHighlight:"rgb("+(r-120)+", "+(o-120)+", "+(l-120)+")",mediumHighlight:"rgb("+(r-60)+", "+(o-60)+", "+(l-60)+")",darkOutline:"rgb("+(r-32)+", "+(o-32)+", "+(l-32)+")",darkDarkHighlight:"rgb("+(r-140)+", "+(o-140)+", "+(l-140)+")"},document.styleSheets&&document.styleSheets.length)try{document.styleSheets[0].insertRule(".bb10Highlight {background-color:"+bb.options.highlightColor+";background-image:none;}",0),document.styleSheets[0].insertRule(".bbProgressHighlight {background-color:#92B43B;background-image:none;}",0),document.styleSheets[0].insertRule(".bb10-button-highlight {color:White;background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.shades.darkHighlight+"), to("+bb.options.highlightColor+"));border-color:#53514F;}",0),document.styleSheets[0].insertRule(".pb-button-light-highlight {color:"+bb.options.shades.darkHighlight+";background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.darkHighlight+"));}",0),document.styleSheets[0].insertRule(".pb-button-dark-highlight {color:"+bb.options.highlightColor+";background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.darkHighlight+"));}",0),document.styleSheets[0].insertRule(".bb10Accent {background-color:"+bb.options.shades.darkHighlight+";}",0),document.styleSheets[0].insertRule(".bb10-title-colored {color:white;border-color: "+bb.options.shades.darkHighlight+";text-shadow: 0px 2px black;background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.darkHighlight+"));}",0),document.styleSheets[0].insertRule(".bb10-title-button-container-colored {color:white;text-shadow: 0px 2px black;border-color: "+bb.options.shades.darkDarkHighlight+";background-color: "+bb.options.shades.darkHighlight+";}",0),document.styleSheets[0].insertRule(".bb10-title-button-colored {border-color: "+bb.options.shades.darkDarkHighlight+";background-image: -webkit-gradient(linear, center top, center bottom, from("+bb.options.highlightColor+"), to("+bb.options.shades.mediumHighlight+"));}",0),document.styleSheets[0].insertRule(".bb10-title-button-colored-highlight {border-color: "+bb.options.shades.darkDarkHighlight+";background-color: "+bb.options.shades.darkHighlight+";}",0)}catch(n){console.log(n.message)}bb.screen.controlColor=bb.options.controlsDark?"dark":"light",bb.screen.listColor=bb.options.listsDark?"dark":"light",bb.device.isBB10?(bb.imageList=_bb10_imageList,bb.activityIndicator=_bb10_activityIndicator,bb.fileInput=_bb10_fileInput,bb.button=_bb10_button,bb.scrollPanel=_bb_PlayBook_10_scrollPanel,bb.bbmBubble=_bb_bbmBubble,bb.dropdown=_bb10_dropdown,bb.textInput=_bb10_textInput,bb.roundPanel=_bb10_roundPanel,bb.grid=_bb10_grid,bb.pillButtons=_bb10_pillButtons,bb.labelControlContainers=_bb10_labelControlContainers,bb.slider=_bb10_slider,bb.radio=_bb10_radio,bb.progress=_bb_progress,bb.checkbox=_bb10_checkbox,bb.toggle=_bb10_toggle,bb.contextMenu=bb.device.isPlayBook||bb.device.isRipple?_PlayBook_contextMenu:_bb10_contextMenu,bb.actionOverflow=_PlayBook_contextMenu):bb.device.isBB5?(bb.imageList=_bb_5_6_7_imageList,bb.button=_bb5_button,bb.bbmBubble=_bb_bbmBubble,bb.roundPanel=_bb_5_6_7_roundPanel,bb.pillButtons=_bb5_pillButtons,bb.labelControlContainers=_bb5_labelControlContainers,bb.progress=_bb_progress):bb.device.isPlayBook?(bb.imageList=_bbPlayBook_imageList,bb.button=_bbPlayBook_button,bb.bbmBubble=_bb_bbmBubble,bb.dropdown=_bb_6_7_PlayBook_dropdown,bb.textInput=_bbPlayBook_textInput,bb.pillButtons=_bb_6_7_PlayBook_pillButtons,bb.labelControlContainers=_bb_6_7_PlayBook_labelControlContainers,bb.progress=_bb_progress,bb.scrollPanel=_bb_PlayBook_10_scrollPanel,bb.roundPanel=_bbPlayBook_roundPanel,bb.activityIndicator=_bbPlayBook_activityIndicator):(bb.imageList=_bb_5_6_7_imageList,bb.button=_bb_6_7_button,bb.bbmBubble=_bb_bbmBubble,bb.dropdown=_bb_6_7_PlayBook_dropdown,bb.textInput=_bb_6_7_textInput,bb.pillButtons=_bb_6_7_PlayBook_pillButtons,bb.labelControlContainers=_bb_6_7_PlayBook_labelControlContainers,bb.progress=_bb_progress,bb.roundPanel=_bb_5_6_7_roundPanel),!bb.device.isBB10||bb.device.isPlayBook||bb.device.isRipple||bb.device.is720x720||(blackberry.event.addEventListener("keyboardOpening",function(){bb.screen.currentScreen.actionBar&&bb.screen.currentScreen.actionBar.hide()}),blackberry.event.addEventListener("keyboardOpened",function(){bb.screen.currentScreen.actionBar&&bb.screen.focusedInput&&(bb.screen.focusedInput.container?bb.screen.focusedInput.container.scrollIntoView(!1):bb.screen.focusedInput.scrollIntoView(!1))}),blackberry.event.addEventListener("keyboardClosed",function(){bb.screen.currentScreen.actionBar&&bb.screen.currentScreen.actionBar.show()})),!bb.device.isBB10||bb.device.isPlayBook||bb.device.isRipple||blackberry.ui&&blackberry.ui.contextmenu&&(blackberry.ui.contextmenu.enabled=!0,blackberry.bbui&&blackberry.bbui.initContext({highlightColor:bb.options.highlightColor}))},doLoad:function(t){var e=t||document.body;bb.screen.apply(e.querySelectorAll("[data-bb-type=screen]")),bb.style(e),bb.screen.reAdjustHeight()},style:function(t){bb.scrollPanel&&bb.scrollPanel.apply(t.querySelectorAll("[data-bb-type=scroll-panel]")),bb.textInput&&bb.textInput.apply(t.querySelectorAll("input[type=text], [type=password], [type=tel], [type=url], [type=email], [type=number], [type=date], [type=time], [type=datetime], [type=month], [type=datetime-local], [type=color], [type=search]")),bb.dropdown&&bb.dropdown.apply(t.querySelectorAll("select")),bb.roundPanel&&bb.roundPanel.apply(t.querySelectorAll("[data-bb-type=round-panel]")),bb.imageList&&bb.imageList.apply(t.querySelectorAll("[data-bb-type=image-list]")),bb.grid&&bb.grid.apply(t.querySelectorAll("[data-bb-type=grid-layout]")),bb.bbmBubble&&bb.bbmBubble.apply(t.querySelectorAll("[data-bb-type=bbm-bubble]")),bb.pillButtons&&bb.pillButtons.apply(t.querySelectorAll("[data-bb-type=pill-buttons]")),bb.labelControlContainers&&bb.labelControlContainers.apply(t.querySelectorAll("[data-bb-type=label-control-container]")),bb.button&&bb.button.apply(t.querySelectorAll("[data-bb-type=button]")),bb.fileInput&&bb.fileInput.apply(t.querySelectorAll("input[type=file]")),bb.slider&&bb.slider.apply(t.querySelectorAll("input[type=range]")),bb.progress&&bb.progress.apply(t.querySelectorAll("progress")),bb.radio&&bb.radio.apply(t.querySelectorAll("input[type=radio]")),bb.activityIndicator&&bb.activityIndicator.apply(t.querySelectorAll("[data-bb-type=activity-indicator]")),bb.checkbox&&bb.checkbox.apply(t.querySelectorAll("input[type=checkbox]")),bb.toggle&&bb.toggle.apply(t.querySelectorAll("[data-bb-type=toggle]"))},getCurScreen:function(){return document.querySelector("[data-bb-type=screen]")},device:{isHiRes:!1,isBB5:!1,isBB6:!1,isBB7:!1,isBB10:!1,isPlayBook:!1,isRipple:!1,is1024x600:!1,is1280x768:!1,is720x720:!1,is1280x720:!1},options:{onbackkey:null,onscreenready:null,ondomready:null,controlsDark:!1,coloredTitleBar:!1,listsDark:!1,highlightColor:"#00A8DF",bb10ForPlayBook:!1},loadScreen:function(url,id,popping,guid,params,screenRecord){var xhr=new XMLHttpRequest,container=document.createElement("div"),_reduce=function(t,e,i){var n=i;return Array.prototype.forEach.apply(t,[function(t){n=e(n,t)}]),n},whereScript=function(t,e){return"SCRIPT"===e.nodeName&&t.push(e),_reduce(e.childNodes,whereScript,t)},i,scripts=[],newScriptTags=[];xhr.open("GET",url,!1),xhr.send(),container.setAttribute("id",guid),container.innerHTML=xhr.responseText,scripts=_reduce(container.childNodes,whereScript,[]),container.scriptIds=[],screenRecord&&(screenRecord.scripts=[]),scripts.forEach(function(script){var scriptTag=document.createElement("script"),type=script.getAttribute("type");if(!type||"text/javascript"==type.toLowerCase()){if(script.text)return eval(script.text),void 0;var scriptGuid=bb.guidGenerator();screenRecord?screenRecord.scripts.push({id:scriptGuid,onunload:script.getAttribute("onunload")}):container.scriptIds.push({id:scriptGuid,onunload:script.getAttribute("onunload")}),scriptTag.setAttribute("type","text/javascript"),scriptTag.setAttribute("src",script.getAttribute("src")),scriptTag.setAttribute("id",scriptGuid),newScriptTags.push(scriptTag),script.parentNode.removeChild(script)}}),container.getElementById=function(t,e){var i=null;if(e||(e=this),e.getAttribute("id")==t)return e;for(var n=0;e.childNodes.length>n;n++){var b=e.childNodes[n];if(1==b.nodeType&&(i=this.getElementById(t,b)))break}return i},bb.screen.scriptCounter=0,bb.screen.totalScripts=newScriptTags.length;for(var i=0;newScriptTags.length>i;i++)document.body.appendChild(newScriptTags[i]),newScriptTags[i].onload=function(){bb.screen.scriptCounter++,bb.screen.scriptCounter==bb.screen.totalScripts&&bb.initContainer(container,id,popping,params)};return 0===bb.screen.totalScripts&&setTimeout(function(){bb.initContainer(container,id,popping,params)},0),container},initContainer:function(t,e,i,n){bb.options.onscreenready&&bb.options.onscreenready(t,e,n),bb.doLoad(t),document.body.appendChild(t);var b,r,o,l=t.querySelectorAll("[data-bb-type=screen]"),s=null;if(l.length>0){if(l=l[0],i){var a,d=bb.screens[bb.screens.length-1].container;b=d.querySelectorAll("[data-bb-type=screen]")[0],a=b.hasAttribute("data-bb-effect")?b.getAttribute("data-bb-effect"):void 0,a&&(l.style["z-index"]="-100","fade"==a.toLowerCase()?b.setAttribute("data-bb-effect","fade-out"):"slide-left"==a.toLowerCase()?b.setAttribute("data-bb-effect","slide-out-right"):"slide-right"==a.toLowerCase()?b.setAttribute("data-bb-effect","slide-out-left"):"slide-up"==a.toLowerCase()?b.setAttribute("data-bb-effect","slide-out-down"):"slide-down"==a.toLowerCase()&&b.setAttribute("data-bb-effect","slide-out-up"))}else b=l;if(b.popping=i,b.hasAttribute("data-bb-effect")&&!bb.device.isBB5&&!bb.device.isBB6&&(r=b.getAttribute("data-bb-effect"))){if(r=r.toLowerCase(),"fade"==r)s=bb.screen.fadeIn;else if("fade-out"==r)s=bb.screen.fadeOut;else if(!bb.device.isBB7)switch(r){case"slide-left":s=bb.screen.slideLeft;break;case"slide-out-left":s=bb.screen.slideOutLeft;break;case"slide-right":s=bb.screen.slideRight;break;case"slide-out-right":s=bb.screen.slideOutRight;break;case"slide-up":s=bb.screen.slideUp;break;case"slide-out-up":s=bb.screen.slideOutUp;break;case"slide-down":s=bb.screen.slideDown;break;case"slide-out-down":s=bb.screen.slideOutDown}b.style.display="inline",s&&(o=document.createElement("div"),b.overlay=o,o.setAttribute("class","bb-transition-overlay"),document.body.appendChild(o),bb.screen.animating=!0,b.doEndAnimation=function(){var e=this.style;bb.screen.animating=!1,document.body.removeChild(this.overlay),this.overlay=null,bb.screens.length>1?this.popping?(this.style.display="none",this.parentNode.parentNode.removeChild(this.parentNode),bb.screens.pop(),l.style["z-index"]="",bb.screens[bb.screens.length-1].container=t):(bb.removePreviousScreenFromDom(),e.left="",e.right="",e.top="",e.bottom="",e.width="",e.height="",e["-webkit-animation-name"]="",e["-webkit-animation-duration"]="",e["-webkit-animation-timing-function"]="",e["-webkit-transform"]=""):1>=bb.screens.length&&(e.left="",e.right="",e.top="",e.bottom="",e.width="",e.height="",e["-webkit-animation-name"]="",e["-webkit-animation-duration"]="",e["-webkit-animation-timing-function"]="",e["-webkit-transform"]=""),this.removeEventListener("webkitAnimationEnd",this.doEndAnimation),bb.createScreenScroller(l)},b.doEndAnimation=b.doEndAnimation.bind(b),b.addEventListener("webkitAnimationEnd",b.doEndAnimation),s.call(this,b))}}if(bb.options.ondomready?(bb.domready.container=t,bb.domready.id=e,bb.domready.params=n,setTimeout(bb.domready.fire,1)):setTimeout(bb.domready.fireEventsOnly,1),!s){if(i){if(i){l.style["z-index"]="";var c=bb.screens[bb.screens.length-1].container;c.parentNode.removeChild(c),bb.screens.pop(),bb.screens[bb.screens.length-1].container=t}}else(bb.device.isBB5||bb.device.isBB6||bb.device.isBB7)&&bb.screens.length>0?bb.removePreviousScreenFromDom():bb.screens.length>1&&bb.removePreviousScreenFromDom();bb.createScreenScroller(l)}},domready:{container:null,id:null,params:null,fire:function(){if(bb.screen.animating)return setTimeout(bb.domready.fire,250),void 0;var t=document.createEvent("Events");t.initEvent("bbuidomready",!0,!0),document.dispatchEvent(t),t=document.createEvent("Events"),t.initEvent("bbuilistready",!0,!0),document.dispatchEvent(t),bb.options.ondomready(bb.domready.container,bb.domready.id,bb.domready.params),bb.domready.container=null,bb.domready.id=null,bb.domready.params=null,t=document.createEvent("Events"),t.initEvent("bbuidomprocessed",!0,!0),document.dispatchEvent(t)},fireEventsOnly:function(){if(bb.screen.animating)return setTimeout(bb.domready.fireEventsOnly,250),void 0;var t=document.createEvent("Events");t.initEvent("bbuidomready",!0,!0),document.dispatchEvent(t),t=document.createEvent("Events"),t.initEvent("bbuilistready",!0,!0),document.dispatchEvent(t),t=document.createEvent("Events"),t.initEvent("bbuidomprocessed",!0,!0),document.dispatchEvent(t)}},createScreenScroller:function(t){var e=t.bbUIscrollWrapper;if(e)if(bb.device.isPlayBook){var i={hideScrollbar:!0,fadeScrollbar:!0,onBeforeScrollStart:function(t){var e=t.target;if(!e.parentNode||"bb-bb10-dropdown-items"!=e.parentNode.getAttribute("class")){for(;1!=e.nodeType;)e=e.parentNode;if("SELECT"!=e.tagName&&"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName&&"AUDIO"!=e.tagName&&"VIDEO"!=e.tagName){t.preventDefault();var i=document.activeElement;i&&("SELECT"==i.tagName||"INPUT"==i.tagName||"TEXTAREA"==i.tagName||"AUDIO"==i.tagName||"VIDEO"==i.tagName)&&i.blur()}}},onScrollEnd:function(){evt=document.createEvent("Events"),evt.initEvent("bbuiscrolling",!0,!0),document.dispatchEvent(evt)},onScrollMove:function(e){t.onscroll&&t.onscroll(e),evt=document.createEvent("Events"),evt.initEvent("bbuiscrolling",!0,!0),document.dispatchEvent(evt)}};bb.scroller=new iScroll(e,i)}else bb.device.isBB10&&(bb.scroller=null,e.style["-webkit-overflow-scrolling"]="-blackberry-touch",e.onscroll=function(e){t.onscroll&&t.onscroll(e)})},clearScrollers:function(){for(var t,e=bb.dropdownScrollers-1;e>-1;e--)t=bb.dropdownScrollers[e],t.destroy(),t=null,bb.dropdownScrollers.pop()},removeTopMostScreenFromDom:function(){var t=bb.screens.length,e=document.getElementById(bb.screens[t-1].guid);document.body.removeChild(e)},removePreviousScreenFromDom:function(){var t,e,i=bb.screens.length;1!=i&&(e=i>1?2:1,t=document.getElementById(bb.screens[i-e].guid),t&&document.body.removeChild(t))},pushScreen:function(t,e,n){for(bb.removeLoadedScripts(),i=0;bb.windowListeners.length>i;i++)listener=bb.windowListeners[i],window.removeEventListener(listener.name,listener.eventHandler,!1);for(bb.windowListeners=[],i=0;bb.documentListeners.length>i;i++)listener=bb.documentListeners[i],document.removeEventListener(listener.name,listener.eventHandler,!1);bb.documentListeners=[],bb.menuBar.clearMenu();var b,r=bb.screens.length;r>0&&(bb.screen.overlay=null,bb.screen.tabOverlay=null,bb.clearScrollers(),bb.screen.contextMenu&&(bb.screen.contextMenu=null),(bb.device.isBB5||bb.device.isBB6||bb.device.isBB7)&&(b=document.getElementById(bb.screens[r-1].guid),b.style.display="none",window.scroll(0,0)));var o=bb.guidGenerator(),l=bb.loadScreen(t,e,!1,o,n);bb.screens.push({id:e,url:t,scripts:l.scriptIds,container:l,guid:o,params:n})},popScreen:function(){var t,e,i=bb.screens.length;if(i>1){for(bb.removeLoadedScripts(),bb.clearScrollers(),bb.menuBar.clearMenu(),bb.screen.overlay=null,bb.screen.tabOverlay=null,t=0;bb.windowListeners.length>t;t++)e=bb.windowListeners[t],window.removeEventListener(e.name,e.eventHandler,!1);for(bb.windowListeners=[],t=0;bb.documentListeners.length>t;t++)e=bb.documentListeners[t],document.removeEventListener(e.name,e.eventHandler,!1);bb.documentListeners=[];var n=bb.screens[i-2];bb.loadScreen(n.url,n.id,!0,n.guid,n.params,n),(bb.device.isBB5||bb.device.isBB6||bb.device.isBB7)&&window.scroll(0,0)}else blackberry&&blackberry.app.exit()},removeLoadedScripts:function(){var numItems=bb.screens.length;if(numItems>0)for(var currentStackItem=bb.screens[numItems-1],current=document.getElementById(currentStackItem.guid),i=0;currentStackItem.scripts.length>i;i++){var bbScript=currentStackItem.scripts[i],scriptTag=document.getElementById(bbScript.id);bbScript.onunload&&eval(bbScript.onunload),scriptTag&&document.body.removeChild(scriptTag)}},innerHeight:function(){return bb.device.isPlayBook?window.orientation?0==window.orientation||180==window.orientation?600:-90==window.orientation||90==window.orientation?1024:void 0:window.innerHeight:window.innerHeight},innerWidth:function(){return bb.device.isPlayBook?window.orientation?0==window.orientation||180==window.orientation?1024:-90==window.orientation||90==window.orientation?600:void 0:window.innerWidth:window.innerWidth},getOrientation:function(){if(bb.device.is720x720)return"portrait";if(bb.device.isPlayBook){if(!window.orientation)return window.innerWidth>window.innerHeight?"landscape":"portrait";if(0==window.orientation||180==window.orientation)return"landscape";if(-90==window.orientation||90==window.orientation)return"portrait"}else{if(void 0==window.orientation)return window.innerWidth>window.innerHeight?"landscape":"portrait";if(0==window.orientation||180==window.orientation)return"portrait";if(-90==window.orientation||90==window.orientation)return"landscape"}},cutHex:function(t){return"#"==t.charAt(0)?t.substring(1,7):t},guidGenerator:function(){var t=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+t()+t()+t()+t()+t()+t()},refresh:function(){bb.scroller&&bb.scroller.refresh()},isScrolledIntoView:function(t){var e=0,i=t;if(i.offsetParent)do e+=i.offsetTop,i.scrollTop&&(e-=i.scrollTop),bb.device.isPlayBook&&(i.scroller?e+=i.scroller.y:i.bbUIscrollWrapper&&(e+=bb.scroller.y));while(i=i.offsetParent);return bb.innerHeight()>e}},Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t,arguments)}},_bb_bbmBubble={apply:function(t){for(var e=0;t.length>e;e++)bb.bbmBubble.style(t[e])},style:function(t){var e,i,n,b;if(t.styleItem=function(e){return i=document.createElement("img"),i.setAttribute("src",e.getAttribute("data-bb-img")),b=document.createElement("div"),b.setAttribute("class","details"),b.innerHTML=e.innerHTML,e.innerHTML="",e.appendChild(i),e.appendChild(b),e.image=i,e.details=b,e.outerElement=t,e.getCaption=function(){return this.details.innerText},e.getCaption=e.getCaption.bind(e),e.setCaption=function(t){this.details.innerHTML=t,bb.refresh()},e.setCaption=e.setCaption.bind(e),e.getImage=function(){return this.image.src},e.getImage=e.getImage.bind(e),e.setImage=function(t){this.image.setAttribute("src",t),bb.refresh()},e.setImage=e.setImage.bind(e),e.remove=function(){this.outerHTML="",bb.refresh()},e.remove=e.remove.bind(e),e},t.styleItem=t.styleItem.bind(t),t.hasAttribute("data-bb-style")){var r,o=t.getAttribute("data-bb-style").toLowerCase();"left"==o?t.setAttribute("class","bb-bbm-bubble-left"):t.setAttribute("class","bb-bbm-bubble-right");var l=t.querySelectorAll("[data-bb-type=item]");for(r=0;r>l.length;r++)t.removeChild(l[r]);for(e=document.createElement("div"),e.setAttribute("class","top-left image"),t.appendChild(e),e=document.createElement("div"),e.setAttribute("class","top-right image"),t.appendChild(e),e=document.createElement("div"),e.setAttribute("class","inside"),t.appendChild(e),insidePanel=document.createElement("div"),insidePanel.setAttribute("class","nogap"),e.appendChild(insidePanel),t.insidePanel=insidePanel,e=document.createElement("div"),e.setAttribute("class","bottom-left image"),t.appendChild(e),e=document.createElement("div"),e.setAttribute("class","bottom-right image"),t.appendChild(e),r=0;l.length>r;r++)n=l[r],insidePanel.appendChild(t.styleItem(n))}return t.getStyle=function(){return this.getAttribute("data-bb-style")},t.getStyle=t.getStyle.bind(t),t.setStyle=function(t){"left"==t?(this.setAttribute("data-bb-style",t),this.setAttribute("class","bb-bbm-bubble-left")):"right"==t&&(this.setAttribute("data-bb-style",t),this.setAttribute("class","bb-bbm-bubble-right")),bb.refresh()},t.setStyle=t.setStyle.bind(t),t.show=function(){this.style.display="block",bb.refresh()},t.show=t.show.bind(t),t.hide=function(){this.style.display="none",bb.refresh()},t.hide=t.hide.bind(t),t.remove=function(){this.parentNode.removeChild(this),bb.refresh()},t.remove=t.remove.bind(t),t.clear=function(){this.insidePanel.innerHTML="",bb.refresh()},t.clear=t.clear.bind(t),t.getItems=function(){return this.querySelectorAll("[data-bb-type=item]")},t.getItems=t.getItems.bind(t),t}},bb.menuBar={menu:!1,apply:function(t){window.blackberry&&blackberry.ui.menu?(bb.menuBar.createBlackberryMenu(t),t.parentNode.removeChild(t)):console.log("Unable to create Blackberry menu.")},createBlackberryMenu:function(t){var e,i,n,b;e=t.getElementsByTagName("div");for(var r=0;e.length>r;r++)b=e[r],"menu-item"===b.getAttribute("data-bb-type")?(n=b.innerHTML,n?(i=new blackberry.ui.menu.MenuItem(!1,r,n,b.onclick),blackberry.ui.menu.addMenuItem(i),b.hasAttribute("data-bb-selected")&&"true"===b.getAttribute("data-bb-selected")&&blackberry.ui.menu.setDefaultMenuItem(i)):console.log("can't add menu item without data-bb-caption")):"menu-separator"===b.getAttribute("data-bb-type")?(i=new blackberry.ui.menu.MenuItem(!0,r),blackberry.ui.menu.addMenuItem(i)):console.log("invalid menu item type")},clearMenu:function(){window.blackberry&&blackberry.ui&&blackberry.ui.menu&&blackberry.ui.menu.clearMenuItems()}},_bb_progress={NORMAL:0,PAUSED:1,ERROR:2,apply:function(t){for(var e=0;t.length>e;e++)bb.progress.style(t[e],!0)},style:function(t,e){var i,n,b;return bb.device.isBB10?(i=bb.screen.controlColor,n=bb.options.highlightColor,b=bb.options.shades.darkHighlight):(i="light",n=bb.device.isPlayBook?bb.options.highlightColor:"#92B43B",b="#8FB03B"),outerElement=document.createElement("div"),outerElement.progress=t,outerElement.state=bb.progress.NORMAL,t.parentNode&&t.parentNode.insertBefore(outerElement,t),t.style.display="none",outerElement.appendChild(t),outerElement.maxValue=t.hasAttribute("max")?parseInt(t.getAttribute("max")):0,outerElement.value=t.hasAttribute("value")?parseInt(t.getAttribute("value")):0,outerElement.className="bb-progress",outerElement.outer=document.createElement("div"),outerElement.outer.setAttribute("class","outer bb-progress-outer-"+i+" bb-progress-outer-idle-background-"+i),outerElement.appendChild(outerElement.outer),outerElement.fill=document.createElement("div"),outerElement.fill.normal=bb.device.isBB10?"bb-progress-fill bb10Highlight":"bb-progress-fill bbProgressHighlight",outerElement.fill.setAttribute("class",outerElement.fill.normal),outerElement.outer.appendChild(outerElement.fill),outerElement.inner=document.createElement("div"),outerElement.inner.className="inner",outerElement.outer.appendChild(outerElement.inner),t.outerElement=outerElement,t.setValue=function(t){var e,r=0;t&&0>t||t&&t>parseInt(this.outerElement.maxValue)||(t?(this.outerElement.value=t,this.value=t):0==t?(this.outerElement.value=0,this.value=0):t=parseInt(this.outerElement.value),t==this.outerElement.maxValue?(this.outerElement.fill.style.background="-webkit-gradient(linear, center top, center bottom, from("+b+"), to("+n+"))",r=1):0==t?this.outerElement.outer.setAttribute("class","outer bb-progress-outer-"+i+" bb-progress-outer-idle-background-"+i):(this.outerElement.state==bb.progress.PAUSED?this.outerElement.fill.style.background="-webkit-gradient(linear, center top, center bottom, from(#EDC842), to(#BA991E))":this.outerElement.state==bb.progress.ERROR?this.outerElement.fill.style.background="-webkit-gradient(linear, center top, center bottom, from( #E04242), to(#D91111))":(this.outerElement.outer.setAttribute("class","outer bb-progress-outer-"+i),this.outerElement.fill.setAttribute("class",this.outerElement.fill.normal),this.outerElement.fill.style.background=""),r=this.outerElement.value/parseInt(this.outerElement.maxValue)),e=Math.floor(parseInt(window.getComputedStyle(this.outerElement.outer).width)*r),this.outerElement.fill.style.width=e+"px")},t.setValue=t.setValue.bind(t),t.setState=function(t){this.outerElement.state=t,this.setValue()},t.setState=t.setState.bind(t),t.show=function(){this.outerElement.style.display="block",bb.refresh()},t.show=t.show.bind(t),t.hide=function(){this.outerElement.style.display="none",bb.refresh()},t.hide=t.hide.bind(t),t.remove=function(){this.outerElement.parentNode.removeChild(this.outerElement),bb.refresh()},t.remove=t.remove.bind(t),t.setMax=function(t){!t||0>t||t==this.max||(this.max=t,this.outerElement.maxValue=t)},t.setMax=t.setMax.bind(t),e?(t.onbbuidomready=function(){this.setValue(),document.removeEventListener("bbuidomready",this.onbbuidomready,!1)},t.onbbuidomready=t.onbbuidomready.bind(t),document.addEventListener("bbuidomready",t.onbbuidomready,!1)):window.setTimeout(t.setValue,0),outerElement.doOrientationChange=function(){window.setTimeout(this.progress.setValue,0)},outerElement.doOrientationChange=outerElement.doOrientationChange.bind(outerElement),window.addEventListener("resize",outerElement.doOrientationChange,!1),bb.windowListeners.push({name:"resize",eventHandler:outerElement.doOrientationChange}),outerElement}},bb.screen={scriptCounter:0,totalScripts:0,controlColor:"light",listColor:"light",overlay:null,tabOverlay:null,contextMenu:null,currentScreen:null,focusedInput:null,animating:!1,apply:function(t){var e,i;bb.screen.contextMenu=null,bb.device.isBB10&&bb.device.isPlayBook?e="bb-bb10-1024x600-screen":bb.device.isBB10&&(bb.device.is1280x768||bb.device.is1280x720)?e="bb-bb10-1280x768-1280x720-screen":bb.device.isBB10&&bb.device.is720x720?e="bb-bb10-720x720-screen":bb.device.isHiRes&&(e="bb-hires-screen");for(var n=0;t.length>n;n++){if(i=t[n],bb.screen.currentScreen=i,i.setAttribute("class",e),bb.device.isBB10){var b,r,o,l=i.querySelectorAll("[data-bb-type=menu]"),s=i.querySelectorAll("[data-bb-type=title]"),a=i.querySelectorAll("[data-bb-type=action-bar]"),d=i.querySelectorAll("[data-bb-type=context-menu]"),c=[],u=null,h=bb.screen.getMenuBarHeight(),p=bb.screen.getActionBarHeight(),m=bb.screen.getTitleBarHeight();for(l.length>0?(l=l[0],i.menuBar=l):l=null,s.length>0?(s=s[0],i.titleBar=s):s=null,a.length>0?(a=a[0],i.actionBar=a):a=null,b=document.createElement("div"),i.appendChild(b),i.hasAttribute("data-bb-scroll-effect")&&"off"==i.getAttribute("data-bb-scroll-effect").toLowerCase()||(i.bbUIscrollWrapper=b),r=document.createElement("div"),b.appendChild(r),o=0;i.childNodes.length-1>o;o++)u=i.childNodes[o],u!=a&&u!=l&&u!=s&&c.push(u);for(o=0;c.length>o;o++)r.appendChild(c[o]);if(i.menuBarHeight=h,i.actionBarHeight=p,i.titleBarHeight=m,i.outerScrollArea=b,b.addEventListener("scroll",function(){evt=document.createEvent("Events"),evt.initEvent("bbuiscrolling",!0,!0),document.dispatchEvent(evt),this.timeout?clearTimeout(this.timeout):this.style["padding-right"]="1px",this.timeout=setTimeout(this.resetPadding,20)},!1),b.resetPadding=function(){this.style["padding-right"]="0px",this.timeout=null},b.resetPadding=b.resetPadding.bind(b),i.getAttribute("data-bb-indicator")){var g=document.createElement("div"),y=document.createElement("div");b.scrollArea=r,b.overlay=g,g.style.position="absolute",g.style.bottom="0px",g.style.top="0px",g.style.left="0px",g.style.right="0px",g.touchstart=function(t){t.preventDefault(),t.stopPropagation()},g.touchend=function(t){t.preventDefault(),t.stopPropagation()},g.click=function(t){t.preventDefault(),t.stopPropagation()},b.appendChild(g),r.style.display="none",y.setAttribute("data-bb-type","activity-indicator"),y.setAttribute("data-bb-size","large"),y.style.margin=bb.device.is720x720?"30% auto 0px auto":"landscape"==bb.getOrientation().toLowerCase()?"20% auto 0px auto":"60% auto 0px auto",g.appendChild(y),b.bbuidomprocessed=function(){this.scrollArea.style.display="",this.removeChild(this.overlay),document.removeEventListener("bbuidomprocessed",this.bbuidomprocessed,!1),bb.device.isPlayBook&&bb.scroller&&bb.scroller.refresh()},b.bbuidomprocessed=b.bbuidomprocessed.bind(b),document.addEventListener("bbuidomprocessed",b.bbuidomprocessed,!1)}s&&a?(b.style.overflow="auto",b.style.position="absolute",b.style.bottom=p+"px",b.style.top=m+"px",b.style.left="0px",b.style.right="0px"):s?(b.style.overflow="auto",b.style.position="absolute",b.style.bottom="0px",b.style.top=m+"px",b.style.left="0px",b.style.right="0px"):a?(b.style.overflow="auto",b.style.position="absolute",b.style.bottom=p+"px",b.style.top="0px",b.style.left="0px",b.style.right="0px"):(b.setAttribute("style","overflow:auto;bottom:0px;position:absolute;top:0px;left:0px;right:0px;"),b.style.overflow="auto",b.style.position="absolute",b.style.bottom="0px",b.style.top="0px",b.style.left="0px",b.style.right="0px"),l&&bb.menuBar.apply(l,i),s&&bb.titleBar.apply(s),a&&bb.actionBar.apply(a,i),d.length>0?bb.screen.processContext(d[0],i):d=null}else if(bb.device.isPlayBook){var l=i.querySelectorAll("[data-bb-type=menu]");l.length>0&&(l=l[0],bb.menuBar.apply(l,i));var b,r,o,s=i.querySelectorAll("[data-bb-type=title]"),c=[],u=null,a=i.querySelectorAll("[data-bb-type=action-bar]"),d=i.querySelectorAll("[data-bb-type=context-menu]");for(o=0;a.length>o;o++)a[o].style.display="none";for(o=0;d.length>o;o++)d[o].style.display="none";for(s=s.length>0?s[0]:null,b=document.createElement("div"),i.appendChild(b),i.hasAttribute("data-bb-scroll-effect")&&"off"==i.getAttribute("data-bb-scroll-effect").toLowerCase()||(i.bbUIscrollWrapper=b),r=document.createElement("div"),b.appendChild(r),o=0;i.childNodes.length-1>o;o++)u=i.childNodes[o],u!=s&&c.push(u);
for(o=0;c.length>o;o++)r.appendChild(c[o]);s?(b.style.overflow="auto",b.style.bottom="0px",b.style.position="absolute",b.style.top="55px",b.style.left="0px",b.style.right="0px",bb.titleBar.apply(s)):(b.setAttribute("style","overflow:auto;bottom:0px;position:absolute;top:0px;left:0px;right:0px;"),b.style.overflow="auto",b.style.bottom="0px",b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.right="0px")}else{var l=i.querySelectorAll("[data-bb-type=menu]");l.length>0&&(l=l[0],bb.menuBar.apply(l,i));var s=i.querySelectorAll("[data-bb-type=title]"),a=i.querySelectorAll("[data-bb-type=action-bar]"),d=i.querySelectorAll("[data-bb-type=context-menu]");for(o=0;a.length>o;o++)a[o].style.display="none";for(o=0;d.length>o;o++)d[o].style.display="none";s.length>0&&(s=s[0],bb.titleBar.apply(s))}i.refresh=function(){bb.scroller&&bb.scroller.refresh()},i.refresh=i.refresh.bind(i),i.scrollTo=function(t,e){bb.scroller?bb.scroller.scrollTo(t,e):bb.device.isBB10&&(this.bbUIscrollWrapper.scrollTop=t)},i.scrollTo=i.scrollTo.bind(i),i.scrollToElement=function(t){if(bb.scroller)bb.scroller.scrollToElement(t);else if(bb.device.isBB10){if(!t)return;var e=0,i=t;if(i.offsetParent)do e+=i.offsetTop;while(i=i.offsetParent);bb.screen.currentScreen.titleBar&&(e-=bb.screen.currentScreen.titleBarHeight),bb.screen.currentScreen.actionBar&&(e-=bb.screen.getActionBarHeight()),this.scrollTo(e)}},i.scrollToElement=i.scrollToElement.bind(i)}},processContext:function(t,e){bb.device.isPlayBook||bb.device.isRipple||blackberry.ui&&blackberry.ui.contextmenu&&(blackberry.ui.contextmenu.enabled=!0),e.appendChild(t),t.menu=bb.contextMenu.create(e),t.appendChild(t.menu),bb.screen.contextMenu=t.menu;var i,n=t.querySelectorAll("[data-bb-type=action]");for(i=0;n.length>i;i++)t.menu.add(n[i]);t.menu.centerMenuItems()},fadeIn:function(t){var e=.3,i="ease-out",n=t.style;n["-webkit-animation-name"]="bbUI-fade-in",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},fadeOut:function(t){var e=.3,i="ease-out",n=t.style;n["-webkit-animation-name"]="bbUI-fade-out",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideLeft:function(t){var e=.3,i="ease-out",n=t.style;n.width=bb.innerWidth()+"px",n["-webkit-animation-name"]="bbUI-slide-left",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideOutLeft:function(t){var e=.3,i="ease-out",n=t.style;n.width=bb.innerWidth()+"px",n["-webkit-animation-name"]="bbUI-slide-out-left",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideRight:function(t){var e=.3,i="ease-out",n=t.style;n.width=bb.innerWidth()+"px",n["-webkit-animation-name"]="bbUI-slide-right",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideOutRight:function(t){var e=.3,i="ease-out",n=t.style;n.width=bb.innerWidth()+"px",n["-webkit-animation-name"]="bbUI-slide-out-right",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideUp:function(t){var e=.3,i="ease-out",n=t.style;n.height=bb.innerHeight()+"px",n["-webkit-animation-name"]="bbUI-slide-up",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideOutUp:function(t){var e=.3,i="ease-out",n=t.style;n.height=bb.innerHeight()+"px",n["-webkit-animation-name"]="bbUI-slide-out-up",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideDown:function(t){var e=.3,i="ease-out",n=t.style;n.height=bb.innerHeight()+"px",n["-webkit-animation-name"]="bbUI-slide-down",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},slideOutDown:function(t){var e=.3,i="ease-out",n=t.style;n.height=bb.innerHeight()+"px",n["-webkit-animation-name"]="bbUI-slide-out-down",n["-webkit-animation-duration"]=e+"s",n["-webkit-animation-timing-function"]=i,n["-webkit-transform"]="translate3d(0,0,0)",n["-webkit-backface-visibility"]="hidden"},reAdjustHeight:function(){bb.device.isBB5?document.body.style.height=screen.height-27+"px":bb.device.isBB6?document.body.style.height=screen.height-17+"px":bb.device.isBB7&&0>navigator.appVersion.indexOf("Ripple")&&(document.body.style.height=screen.height+"px")},getMenuBarHeight:function(){return bb.device.is1024x600?"portrait"==bb.getOrientation().toLowerCase()?73:73:bb.device.is1280x768||bb.device.is1280x720?"portrait"==bb.getOrientation().toLowerCase()?140:111:"portrait"==bb.getOrientation().toLowerCase()?140:111},getActionBarHeight:function(){return bb.device.is1024x600?"portrait"==bb.getOrientation().toLowerCase()?73:73:bb.device.is1280x768||bb.device.is1280x720?"portrait"==bb.getOrientation().toLowerCase()?139:99:bb.device.is720x720?109:"portrait"==bb.getOrientation().toLowerCase()?139:99},getTitleBarHeight:function(){return bb.device.is1024x600?65:bb.device.is1280x768||bb.device.is1280x720?111:bb.device.is720x720?95:111}},bb.titleBar={apply:function(titleBar){if(bb.device.isBB10){var res="1280x768-1280x720",orientation=bb.getOrientation(),button,caption,titleBarClass,details,topTitleArea=document.createElement("div"),img,accentText;bb.device.is1024x600?res="1024x600":bb.device.is1280x768||bb.device.is1280x720?res="1280x768-1280x720":bb.device.is720x720&&(res="720x720"),titleBar.topTitleArea=topTitleArea,titleBar.appendChild(topTitleArea),titleBarClass=bb.options.coloredTitleBar?"bb-bb10-title-bar-"+res+" bb-bb10-title-bar-"+orientation+"-"+res+" bb10-title-colored":"bb-bb10-title-bar-"+res+" bb-bb10-title-bar-"+orientation+"-"+res+" bb-bb10-title-bar-"+bb.screen.controlColor,topTitleArea.setAttribute("class",titleBarClass),caption=document.createElement("div"),titleBar.caption=caption,caption.setAttribute("class","bb-bb10-title-bar-caption-"+res+" bb-bb10-title-bar-caption-"+orientation+"-"+res),caption.innerHTML=titleBar.getAttribute("data-bb-caption"),topTitleArea.appendChild(caption),titleBar.hasAttribute("data-bb-back-caption")&&(button=document.createElement("div"),button.innerHTML=titleBar.getAttribute("data-bb-back-caption"),topTitleArea.appendChild(button),titleBar.backButton=button,button.onclick=bb.popScreen,bb.titleBar.styleBB10Button(button),button.style.left="0px"),titleBar.hasAttribute("data-bb-action-caption")&&(button=document.createElement("div"),button.innerHTML=titleBar.getAttribute("data-bb-action-caption"),titleBar.hasAttribute("onactionclick")?(button.titleBar=titleBar,button.onactionclick=titleBar.getAttribute("onactionclick"),titleBar.onactionclick=function(){eval(this.actionButton.onactionclick)},button.onclick=function(){this.titleBar.onactionclick&&this.titleBar.onactionclick()}):titleBar.onactionclick&&(button.onclick=titleBar.onactionclick),bb.titleBar.styleBB10Button(button),button.style.right="0px",topTitleArea.appendChild(button),titleBar.actionButton=button),(titleBar.actionButton||titleBar.backButton)&&(titleBar.evenButtonWidths=function(){var t,e=this.backButton?parseInt(window.getComputedStyle(this.backButton).width):0,i=this.actionButton?parseInt(window.getComputedStyle(this.actionButton).width):0;this.actionButton&&this.backButton?(t=e>i?e:i,this.backButton.style.width=t+"px",this.actionButton.style.width=t+"px",this.caption.style["margin-left"]=t+24+"px",this.caption.style["margin-right"]=t+24+"px"):this.actionButton?(this.caption.style["margin-left"]="0px",this.caption.style["margin-right"]=i+24+"px"):this.backButton&&(this.caption.style["margin-right"]="0px",this.caption.style["margin-left"]=e+24+"px")},titleBar.evenButtonWidths=titleBar.evenButtonWidths.bind(titleBar),window.setTimeout(titleBar.evenButtonWidths,0)),titleBar.actionButton||titleBar.backButton||!titleBar.hasAttribute("data-bb-img")&&!titleBar.hasAttribute("data-bb-accent-text")||(caption.setAttribute("class","bb-bb10-title-bar-caption-left-"+res),details=document.createElement("div"),titleBar.details=details,topTitleArea.appendChild(details),details.appendChild(caption),titleBar.hasAttribute("data-bb-img")&&(img=document.createElement("img"),titleBar.img=img,topTitleArea.insertBefore(img,details),details.setAttribute("class","bb-bb10-title-bar-caption-details-img-"+res),img.style.opacity="0",img.style["-webkit-transition"]="opacity 0.5s linear",img.style["-webkit-backface-visibility"]="hidden",img.style["-webkit-perspective"]=1e3,img.style["-webkit-transform"]="translate3d(0,0,0)",titleBar.onbbuidomready=function(){this.img.onload=function(){this.style.opacity="1.0"},this.img.src=this.getAttribute("data-bb-img"),document.removeEventListener("bbuidomready",this.onbbuidomready,!1)},titleBar.onbbuidomready=titleBar.onbbuidomready.bind(titleBar),document.addEventListener("bbuidomready",titleBar.onbbuidomready,!1)),titleBar.hasAttribute("data-bb-accent-text")&&(caption.style["line-height"]=bb.device.is1024x600?"40px":bb.device.is1280x768||bb.device.is1280x720?"70px":bb.device.is720x720?"55px":"70px",accentText=document.createElement("div"),accentText.setAttribute("class","bb-bb10-title-bar-accent-text-"+res),bb.options.coloredTitleBar&&(accentText.style.color="silver"),titleBar.accentText=accentText,accentText.innerHTML=titleBar.getAttribute("data-bb-accent-text"),details.appendChild(accentText))),titleBar.setCaption=function(t){this.caption.innerHTML=t},titleBar.setCaption=titleBar.setCaption.bind(titleBar),titleBar.getCaption=function(){return this.caption.innerHTML},titleBar.getCaption=titleBar.getCaption.bind(titleBar),titleBar.setBackCaption=function(t){this.backButton.firstChild.innerHTML=t,this.actionButton&&(this.backButton.style.width="",this.evenButtonWidths())},titleBar.setBackCaption=titleBar.setBackCaption.bind(titleBar),titleBar.getBackCaption=function(){return this.backButton.firstChild.innerHTML},titleBar.getBackCaption=titleBar.getBackCaption.bind(titleBar),titleBar.setActionCaption=function(t){this.actionButton.firstChild.innerHTML=t,this.backButton&&(this.actionButton.style.width="",this.evenButtonWidths())},titleBar.setActionCaption=titleBar.setActionCaption.bind(titleBar),titleBar.getActionCaption=function(){return this.actionButton.firstChild.innerHTML},titleBar.getActionCaption=titleBar.getActionCaption.bind(titleBar),titleBar.getAccentText=function(){return this.accentText.innerHTML},titleBar.getAccentText=titleBar.getAccentText.bind(titleBar)}else if(bb.device.isPlayBook){if(titleBar.setAttribute("class","pb-title-bar"),titleBar.innerHTML=titleBar.getAttribute("data-bb-caption"),titleBar.hasAttribute("data-bb-back-caption")){var button=document.createElement("div"),buttonInner=document.createElement("div");button.setAttribute("class","pb-title-bar-back"),button.onclick=bb.popScreen,buttonInner.setAttribute("class","pb-title-bar-back-inner"),buttonInner.innerHTML=titleBar.getAttribute("data-bb-back-caption"),button.appendChild(buttonInner),titleBar.appendChild(button)}}else titleBar.setCaption=function(t){return t?(this.setAttribute("data-bb-caption",t),this.innerHTML=t,void 0):(t=this.getAttribute("data-bb-caption"),this.innerHTML=t,void 0)},titleBar.setCaption=titleBar.setCaption.bind(titleBar),titleBar.getCaption=function(){return this.innerHTML},titleBar.getCaption=titleBar.getCaption.bind(titleBar),titleBar.hasAttribute("data-bb-caption")&&(bb.device.isHiRes?titleBar.setAttribute("class","bb-hires-screen-title"):titleBar.setAttribute("class","bb-lowres-screen-title"),titleBar.innerHTML=titleBar.getAttribute("data-bb-caption"))},styleBB10Button:function(t){var e,i,n,b="1280x768-1280x720",r=document.createElement("div");bb.device.is1024x600?b="1024x600":bb.device.is1280x768||bb.device.is1280x720?b="1280x768-1280x720":bb.device.is720x720&&(b="720x720"),bb.options.coloredTitleBar?(e="bb-bb10-titlebar-button bb-bb10-titlebar-button-"+b+" bb10-title-button-colored",i="bb-bb10-titlebar-button bb-bb10-titlebar-button-"+b+" bb10-title-button-colored-highlight",n="bb-bb10-titlebar-button-container-"+b+" bb10-title-button-container-colored"):(e="bb-bb10-titlebar-button bb-bb10-titlebar-button-"+b+" bb-bb10-titlebar-button-"+bb.screen.controlColor,i="bb-bb10-titlebar-button bb-bb10-titlebar-button-"+b+" bb-bb10-titlebar-button-highlight-"+bb.screen.controlColor,n="bb-bb10-titlebar-button-container-"+b+" bb-bb10-titlebar-button-container-"+bb.screen.controlColor),t.enabled=!0,r.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(r),r.setAttribute("class",e),t.setAttribute("class",n),t.outerNormal=n,t.innerElement=r,r.normal=e,r.highlight=i,t.ontouchstart=function(){this.innerElement.setAttribute("class",this.innerElement.highlight)},t.ontouchend=function(){this.innerElement.setAttribute("class",this.innerElement.normal)},t.trappedClick=t.onclick,t.onclick=void 0,null!==t.trappedClick&&t.addEventListener("click",function(){this.enabled&&this.trappedClick()},!1)}},_bb5_button={apply:function(t){for(var e=0;t.length>e;e++){var i=t[e],n=i.innerHTML,b="bb5-button",r="bb5-button-highlight";i.innerHTML="",i.setAttribute("class","bb-bb5-button");var o=document.createElement("a");o.setAttribute("class",b),o.setAttribute("x-blackberry-focusable","true"),o.setAttribute("onmouseover","this.setAttribute('class','"+r+"')"),o.setAttribute("onmouseout","this.setAttribute('class','"+b+"')"),i.appendChild(o);var l=document.createElement("span");l.innerHTML=n,o.appendChild(l)}}},_bb5_labelControlContainers={apply:function(t){for(var e=0;t.length>e;e++){var i=t[e];i.setAttribute("class","bb-label-control-horizontal-row");for(var n=i.querySelectorAll("[data-bb-type=label]"),b=0;n.length>b;b++){var r=n[b];r.setAttribute("class","bb-label")}i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i)}}},_bb5_pillButtons={apply:function(t){for(var e=0;t.length>e;e++){var i=t[e];i.setAttribute("class","bb-pill-buttons");for(var n=i.querySelectorAll("[data-bb-type=pill-button]"),b=0;n.length>b;b++){var r=n[b];r.setAttribute("x-blackberry-focusable","true");var o=r.innerHTML;r.innerHTML="<span>"+o+"</span>",0===b?r.setAttribute("class","buttonLeft"):b==n.length-1?r.setAttribute("class","buttonRight"):r.setAttribute("class","buttonMiddle"),r.hasAttribute("data-bb-selected")&&"true"==r.getAttribute("data-bb-selected").toLowerCase()&&bb.pillButtons.selectButton(r),r.onmousedown=function(){bb.pillButtons.selectButton(this);for(var t=this.parentNode.querySelectorAll("[data-bb-type=pill-button]"),e=0;t.length>e;e++){var i=t[e];i!=this&&bb.pillButtons.deSelectButton(i)}}}i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i)}}},_bb_5_6_7_imageList={apply:function(t){for(var e,i,n,b,e=0;t.length>e;e++){n=t[e],n.items=[],n.hideImages=n.hasAttribute("data-bb-images")?"none"==n.getAttribute("data-bb-images").toLowerCase():!1,n.hideImages||(n.imagePlaceholder=n.hasAttribute("data-bb-image-placeholder")?n.getAttribute("data-bb-image-placeholder"):void 0),n.headerJustify=n.hasAttribute("data-bb-header-justify")?n.getAttribute("data-bb-header-justify").toLowerCase():"center",n.listStyle=n.hasAttribute("data-bb-style")?n.getAttribute("data-bb-style").toLowerCase():"default",bb.device.isHiRes?n.setAttribute("class","bb-hires-image-list"):n.setAttribute("class","bb-lowres-image-list"),n.styleItem=function(t){var t,e,i,n,b,r,o,l,s,a,d,c,u,h,p=bb.device.isHiRes?"hires":"lowres";t.hasAttribute("data-bb-type")&&(e=t.getAttribute("data-bb-type").toLowerCase(),i=t.innerHTML,n="",t.hasAttribute("data-bb-accent-text")&&(n=t.getAttribute("data-bb-accent-text")),"header"==e?(b="bb-"+p+"-image-list-header",r="bb-"+p+"-image-list-header-hover","left"==this.headerJustify?(b=b+" bb-"+p+"-image-list-header-left",r=r+" bb-"+p+"-image-list-header-left"):"right"==this.headerJustify?(b=b+" bb-"+p+"-image-list-header-right",r=r+" bb-"+p+"-image-list-header-right"):(b=b+" bb-"+p+"-image-list-header-center",r=r+" bb-"+p+"-image-list-header-center"),t.normal=b,t.highlight=r,t.innerHTML="<p>"+i+"</p>",t.setAttribute("x-blackberry-focusable","true"),t.setAttribute("class",b),t.setAttribute("onmouseover","this.setAttribute('class',this.highlight)"),t.setAttribute("onmouseout","this.setAttribute('class',this.normal)")):"item"==e&&(t.innerHTML="",t.setAttribute("class","bb-"+p+"-image-list-item"),t.setAttribute("onmouseover","this.setAttribute('class','bb-"+p+"-image-list-item bb-"+p+"-image-list-item-hover')"),t.setAttribute("onmouseout","this.setAttribute('class','bb-"+p+"-image-list-item')"),t.setAttribute("x-blackberry-focusable","true"),this.hideImages||(d=document.createElement("img"),t.img=d,this.imagePlaceholder?(d.placeholder=this.imagePlaceholder,d.src=t.hasAttribute("data-bb-img")?t.getAttribute("data-bb-img"):this.imagePlaceholder,d.onerror=function(){this.src!=this.placeholder&&(this.src=this.placeholder)}):d.setAttribute("src",t.getAttribute("data-bb-img")),t.appendChild(d)),o=document.createElement("div"),t.appendChild(o),o.normal=this.hideImages?"bb-"+p+"-image-list-details bb-"+p+"-image-list-noimage":"bb-"+p+"-image-list-details",l=document.createElement("div"),l.innerHTML=t.getAttribute("data-bb-title"),l.className="title",t.titleDiv=l,o.appendChild(l),"arrowlist"==this.listStyle?(o.normal=o.normal+" details-button-margin",c=document.createElement("div"),t.appendChild(c),t.btn=c,c.setAttribute("class","button"),u=document.createElement("div"),u.normal="bb-"+p+"-image-list-item-button-border",u.setAttribute("class",u.normal),c.appendChild(u),h=document.createElement("div"),h.setAttribute("class","bb-"+p+"-image-list-item-button-inner bb-image-list-item-chevron-light"),u.appendChild(h)):(a=document.createElement("div"),a.innerHTML=n,a.className="accent-text",t.accentDiv=a,o.appendChild(a)),o.setAttribute("class",o.normal),s=document.createElement("div"),s.className="description",t.descriptionDiv=s,o.appendChild(s),0==i.length&&(i="&nbsp;",s.style.visibilty="hidden",l.style["margin-top"]=bb.device.isHiRes?"14px":"18px",a&&(a.style["margin-top"]=bb.device.isHiRes?"-32px":"-25px"),"arrowlist"==this.listStyle&&(c.style["margin-top"]=bb.device.isHiRes?"-73px":"-70px")),s.innerHTML=i,t.remove=function(){var t=this.parentNode,e=t.items.indexOf(this);this.parentNode.removeChild(this),t.items.splice(e,1),bb.scroller&&bb.scroller.refresh()},t.remove=t.remove.bind(t),t.trappedClick=t.onclick,t.onclick=void 0,t.outerElement=this,t.addEventListener("click",function(){this.outerElement.selected=this,this.trappedClick&&this.trappedClick()},!1),t.getTitle=function(){return this.titleDiv.innerHTML},t.getTitle=t.getTitle.bind(t),t.getDescription=function(){return this.descriptionDiv.innerHTML},t.getDescription=t.getDescription.bind(t),t.getAccentText=function(){return this.accentDiv?this.accentDiv.innerHTML:void 0},t.getAccentText=t.getAccentText.bind(t),t.getImage=function(){return this.img?this.img.getAttribute("src"):void 0},t.getImage=t.getImage.bind(t)))},n.styleItem=n.styleItem.bind(n),n.appendItem=function(t){this.styleItem(t),this.appendChild(t),this.items.push(t),bb.scroller&&bb.scroller.refresh()},n.appendItem=n.appendItem.bind(n),n.refresh=function(t){if(t&&t.length&&!(0>=t.length)){var e,i,n=document.createElement("div");for(this.items=[],e=0;t.length>e;e++)i=t[e],this.styleItem(i),this.items.push(i),n.appendChild(i);this.innerHTML="",this.appendChild(n)}},n.refresh=n.refresh.bind(n),n.insertItemBefore=function(t,e){this.styleItem(t),this.insertBefore(t,e),this.items.splice(this.items.indexOf(e),0,t),bb.scroller&&bb.scroller.refresh()},n.insertItemBefore=n.insertItemBefore.bind(n),n.getItems=function(){var t,e=[];for(t=0;this.items.length>t;t++)e.push(this.items[t]);return e},n.getItems=n.getItems.bind(n),n.clear=function(){this.items=[],n.innerHTML="",bb.scroller&&bb.scroller.refresh()},n.clear=n.clear.bind(n),n.show=function(){this.style.display="block",bb.scroller&&bb.scroller.refresh()},n.show=n.show.bind(n),n.hide=function(){this.style.display="none",bb.scroller&&bb.scroller.refresh()},n.hide=n.hide.bind(n),n.remove=function(){this.parentNode.removeChild(this),bb.scroller&&bb.scroller.refresh()},n.remove=n.remove.bind(n),b=n.querySelectorAll("[data-bb-type=item], [data-bb-type=header]");var r;for(i=0;b.length>i;i++)r=b[i],n.styleItem(r),n.items.push(r)}}},_bb_5_6_7_roundPanel={apply:function(t){for(var e=0;t.length>e;e++){var i=t[e];if(i.setAttribute("class","bb-round-panel"),i.hasChildNodes()){for(var n=[],b=i.childNodes.length,r=0;b>r;r++)n.push(i.childNodes[r]);for(var r=b-1;r>=0;r--)i.removeChild(i.childNodes[r]);var o=document.createElement("div");o.setAttribute("class","bb-round-panel-top-left bb-round-panel-background "),i.appendChild(o),o=document.createElement("div"),o.setAttribute("class","bb-round-panel-top-right bb-round-panel-background "),i.appendChild(o);var l=document.createElement("div");l.setAttribute("class","bb-round-panel-inside"),i.appendChild(l),o=document.createElement("div"),o.setAttribute("class","bb-round-panel-bottom-left bb-round-panel-background "),i.appendChild(o),o=document.createElement("div"),o.setAttribute("class","bb-round-panel-bottom-right bb-round-panel-background "),i.appendChild(o);for(var r=0;n.length>r;r++)l.appendChild(n[r])}for(var s=i.querySelectorAll("[data-bb-type=panel-header]"),r=0;s.length>r;r++)s[r].setAttribute("class","bb-lowres-panel-header");i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i)}}},_bb_6_7_button={apply:function(t){for(var e=0;t.length>e;e++)bb.button.style(t[e])},style:function(t){var e=t.hasAttribute("data-bb-disabled"),i="bb-bb7-button",n="bb-bb7-button-highlight";if(t.stretched=!1,t.enabled=!e,e&&(i="bb-bb7-button-disabled",t.removeAttribute("data-bb-disabled")),bb.device.isHiRes?(i+=" bb-bb7-button-hires",n+=" bb-bb7-button-hires"):(i+=" bb-bb7-button-lowres",n+=" bb-bb7-button-lowres"),t.hasAttribute("data-bb-style")){var b=t.getAttribute("data-bb-style");"stretch"==b&&(t.stretched=!0,i+=" button-stretch",n+=" button-stretch")}return t.highlight=n,t.normal=i,t.setAttribute("class",i),e||(t.setAttribute("x-blackberry-focusable","true"),t.onmouseover=function(){this.setAttribute("class",this.highlight)},t.onmouseout=function(){this.setAttribute("class",this.normal)}),t.trappedClick=t.onclick,t.onclick=void 0,null!==t.trappedClick&&t.addEventListener("click",function(){this.enabled&&this.trappedClick()},!1),t.setCaption=function(t){this.innerHTML=t},t.setCaption=t.setCaption.bind(t),t.getCaption=function(){return this.innerHTML},t.getCaption=t.getCaption.bind(t),t.setImage=function(){},t.setImage=t.setImage.bind(t),t.getImage=function(){return""},t.getImage=t.getImage.bind(t),t.enable=function(){this.enabled||(this.setAttribute("class",i),this.setAttribute("x-blackberry-focusable","true"),this.onmouseover=function(){this.setAttribute("class",this.highlight)},this.onmouseout=function(){this.setAttribute("class",this.normal)},this.enabled=!0)},t.enable=t.enable.bind(t),t.disable=function(){if(this.enabled){var t="bb-bb7-button-disabled";if(t+=bb.device.isHiRes?" bb-bb7-button-hires":" bb-bb7-button-lowres",this.hasAttribute("data-bb-style")){var e=this.getAttribute("data-bb-style");"stretch"==e&&(t+=" button-stretch",n+=" button-stretch")}this.setAttribute("class",t),this.removeAttribute("x-blackberry-focusable"),this.onmouseover=null,this.onmouseout=null,this.enabled=!1}},t.disable=t.disable.bind(t),t.show=function(){this.style.display=this.stretched?"block":"inline-block"},t.show=t.show.bind(t),t.hide=function(){this.style.display="none"},t.hide=t.hide.bind(t),t.remove=function(){this.parentNode.removeChild(this),bb.refresh()},t.remove=t.remove.bind(t),t}},_bb_6_7_PlayBook_dropdown={apply:function(t){for(var e=0;t.length>e;e++)bb.dropdown.style(t[e])},style:function(t){var e,i,n=t.getElementsByTagName("option"),b="",r=!t.hasAttribute("disabled");bb.device.isPlayBook?(e="ontouchstart",i="ontouchend"):(e="onmouseover",i="onmouseout"),t.style.display="none",t.stretch=!1,t.enabled=r,n.length>0&&(b=n[0].innerHTML);for(var o=0;n.length>o;o++)if(n[o].hasAttribute("selected")){b=n[o].innerHTML;break}var l=document.createElement("div");l.innerHTML='<div data-bb-type="caption"><span>'+b+"</span></div>",t.dropdown=l;var s="bb-bb7-dropdown",a="bb-bb7-dropdown-highlight";if(bb.device.isHiRes?(s+=" bb-bb7-dropdown-hires",a+=" bb-bb7-dropdown-hires"):(s+=" bb-bb7-dropdown-lowres",a+=" bb-bb7-dropdown-lowres"),t.hasAttribute("data-bb-style")){var d=t.getAttribute("data-bb-style");"stretch"==d&&(t.stretch=!0,s+=" dropdown-stretch",a+=" dropdown-stretch")}return l.setAttribute("data-bb-type","dropdown"),t.enabled?l.setAttribute("class",s):l.setAttribute("class",s+" bb-bb7-dropdown-disabled"),l.setAttribute("x-blackberry-focusable","true"),l.inEvent="this.setAttribute('class','"+a+"')",l.outEvent="this.setAttribute('class','"+s+"')",t.parentNode&&t.parentNode.insertBefore(l,t),l.appendChild(t),l.doclick=function(){var t=this.getElementsByTagName("select")[0];if(bb.device.isPlayBook||bb.device.isRipple){var e=document.createElement("div");e.setAttribute("id","ripple-dropdown-overlay"),e.style.position="absolute",e.style.left="0px",e.style.top=document.body.scrollTop+"px",e.style.width="100%",e.style.height="100%",e.style["z-index"]="1000000",e.onclick=function(){null!==this.parentNode&&this.parentNode.removeChild(this)};var i=document.createElement("div");bb.device.isHiRes?i.setAttribute("class","ripple-dropdown-dialog bb-hires-screen"):i.setAttribute("class","ripple-dropdown-dialog"),e.appendChild(i),i.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode)};for(var n=0;t.options.length>n;n++){var b=t.options[n],r=document.createElement("div");i.appendChild(r);var o=document.createElement("div");b.selected?(o.setAttribute("class","item selected"),r.setAttribute("class","backgroundHighlight backgroundSelected")):(o.setAttribute("class","item"),r.setAttribute("class","backgroundHighlight")),o.innerHTML="<span>"+b.text+"</span>",o.setAttribute("x-blackberry-focusable","true"),o.setAttribute("data-bb-index",n),o.dropdown=this,o.onclick=function(){var t=this.getAttribute("data-bb-index"),e=this.dropdown.getElementsByTagName("select")[0];e&&e.setSelectedItem(t)},r.appendChild(o)}var l=45*t.options.length+20,s=window.innerHeight-80;l>s&&(l=s,i.style.height=s+"px");var a=window.innerHeight/2-l/2;i.style.top=a+"px",document.body.appendChild(e)}else{for(var d=[],n=0;t.options.length>n;n++)d[n]={label:t.options[n].text,selected:n==t.selectedIndex,enabled:!0,type:"option"};try{blackberry.ui.dialog.selectAsync(!1,d,function(e){e.length>0&&e[0]<t.options.length&&t.setSelectedItem(e[0])})}catch(c){console.log("Exception in selectAsync: "+c)}}},t.enabled&&(l.onclick=l.doclick,l.setAttribute(e,l.inEvent),l.setAttribute(i,l.outEvent)),t.setSelectedItem=function(t){var e=this.dropdown.getElementsByTagName("select")[0];if(e&&e.selectedIndex!=t){e.selectedIndex=t;var i=this.dropdown.querySelectorAll("[data-bb-type=caption]")[0];i&&(i.innerHTML="<span>"+e.options[t].text+"</span>");var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),e.dispatchEvent(n)}},t.setSelectedText=function(t){for(var e=0;this.options.length>e;e++)if(this.options[e].text==t)return this.setSelectedItem(e),void 0},t.setSelectedText=t.setSelectedText.bind(t),t.fireEvent=function(){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),this.dispatchEvent(t)},t.fireEvent=t.fireEvent.bind(t),t.enable=function(){this.enabled||(this.dropdown.onclick=this.dropdown.doclick,this.dropdown.setAttribute(e,l.inEvent),this.dropdown.setAttribute(i,l.outEvent),this.dropdown.setAttribute("class",s),this.removeAttribute("disabled"),this.enabled=!0)},t.enable=t.enable.bind(t),t.disable=function(){t.enabled&&(this.dropdown.onclick=null,this.dropdown.removeAttribute(e),this.dropdown.removeAttribute(i),this.dropdown.setAttribute("class",s+" bb-bb7-dropdown-disabled"),this.enabled=!1,this.setAttribute("disabled","disabled"))},t.disable=t.disable.bind(t),t.show=function(){this.dropdown.style.display=this.stretch?"block":"table-cell",bb.refresh()},t.show=t.show.bind(t),t.hide=function(){this.dropdown.style.display="none",bb.refresh()},t.hide=t.hide.bind(t),t.remove=function(){this.dropdown.parentNode.removeChild(this.dropdown),bb.refresh()},t.remove=t.remove.bind(t),t.refresh=function(){var t,e=this.getElementsByTagName("option"),i="";e.length>0&&(i=e[0].innerHTML);for(var n=0;e.length>n;n++)if(e[n].hasAttribute("selected")){i=e[n].innerHTML;break}t=this.dropdown.querySelectorAll("[data-bb-type=caption]")[0],t&&(t.innerHTML="<span>"+i+"</span>")},t.refresh=t.refresh.bind(t),t.setCaption=function(){console&&console.log("WARNING: setCaption is not supported on BlackBerry 5/6/7/PlayBook")},t.setCaption=t.setCaption.bind(t),l}},_bb_6_7_PlayBook_labelControlContainers={apply:function(t){for(var e=0;t.length>e;e++){var i=t[e],n=i.querySelectorAll("[data-bb-type=row]");if(n.length>0){var b=document.createElement("table");b.setAttribute("class","bb-bb7-label-control-rows"),i.insertBefore(b,n[0]);for(var r=0;n.length>r;r++){var o=n[r],l=document.createElement("tr");b.appendChild(l);var s=document.createElement("td");l.appendChild(s);var a=o.querySelectorAll("[data-bb-type=label]")[0];o.removeChild(a),s.appendChild(a);var d=document.createElement("td");l.appendChild(d);var c=o.querySelectorAll("[data-bb-type=button],input,[data-bb-type=dropdown],textarea")[0];o.removeChild(c),d.appendChild(c),i.removeChild(o);var u=c.getAttribute("data-bb-type");"button"==u||"dropdown"==u?c.style.float="right":"INPUT"==c.tagName&&(c.style.width="100%")}}i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i)}}},_bb_6_7_PlayBook_pillButtons={apply:function(t){for(var e=0;t.length>e;e++){var i=t[e],n="bb-bb7-pill-buttons",b="";bb.device.isHiRes?(n+=" bb-bb7-pill-buttons-hires",b="bb-bb7-pill-button-hires"):(n+=" bb-bb7-pill-buttons-lowres",b="bb-bb7-pill-button-lowres"),i.setAttribute("class",n);var r,o,l=i.querySelectorAll("[data-bb-type=pill-button]"),s=Math.floor(98/l.length),a=102-s*l.length;bb.device.isPlayBook?(r="ontouchstart",o="ontouchend"):(r="onmouseover",o="onmouseout"),i.style["padding-left"]=a+"%",i.style["padding-right"]=a+"%";for(var d=0;l.length>d;d++){var c=l[d];c.setAttribute("x-blackberry-focusable","true"),0===d?"true"==c.getAttribute("data-bb-selected")?c.setAttribute("class","bb-bb7-pill-button-highlight bb-bb7-pill-button-left "+b):(c.setAttribute("class","bb-bb7-pill-button bb-bb7-pill-button-left "+b),c.setAttribute(r,"this.setAttribute('class','bb-bb7-pill-button-highlight bb-bb7-pill-button-left "+b+"')"),c.setAttribute(o,"this.setAttribute('class','bb-bb7-pill-button bb-bb7-pill-button-left "+b+"')")):d==l.length-1?"true"==c.getAttribute("data-bb-selected")?c.setAttribute("class","bb-bb7-pill-button-highlight bb-bb7-pill-button-right "+b):(c.setAttribute("class","bb-bb7-pill-button bb-bb7-pill-button-right "+b),c.setAttribute(r,"this.setAttribute('class','bb-bb7-pill-button-highlight bb-bb7-pill-button-right "+b+"')"),c.setAttribute(o,"this.setAttribute('class','bb-bb7-pill-button bb-bb7-pill-button-right "+b+"')")):"true"==c.getAttribute("data-bb-selected")?c.setAttribute("class","bb-bb7-pill-button-highlight "+b):(c.setAttribute("class","bb-bb7-pill-button "+b),c.setAttribute(r,"this.setAttribute('class','bb-bb7-pill-button-highlight "+b+"')"),c.setAttribute(o,"this.setAttribute('class','bb-bb7-pill-button "+b+"')")),c.style.width=s+"%",c.addEventListener("click",function(){var t,e,i=this.parentNode.querySelectorAll("[data-bb-type=pill-button]");
bb.device.isPlayBook?(t="ontouchstart",e="ontouchend"):(t="onmouseover",e="onmouseout");for(var n=0;i.length>n;n++){var r=i[n];0===n?r==this?(r.setAttribute("class","bb-bb7-pill-button-highlight bb-bb7-pill-button-left "+b),r.onmouseover=null,r.onmouseout=null):(r.setAttribute("class","bb-bb7-pill-button bb-bb7-pill-button-left "+b),r.setAttribute(t,"this.setAttribute('class','bb-bb7-pill-button-highlight bb-bb7-pill-button-left "+b+"')"),r.setAttribute(e,"this.setAttribute('class','bb-bb7-pill-button bb-bb7-pill-button-left "+b+"')")):n==i.length-1?r==this?(r.setAttribute("class","bb-bb7-pill-button-highlight bb-bb7-pill-button-right "+b),r.onmouseover=null,r.onmouseout=null):(r.setAttribute("class","bb-bb7-pill-button bb-bb7-pill-button-right "+b),r.setAttribute(t,"this.setAttribute('class','bb-bb7-pill-button-highlight bb-bb7-pill-button-right "+b+"')"),r.setAttribute(e,"this.setAttribute('class','bb-bb7-pill-button bb-bb7-pill-button-right "+b+"')")):r==this?(r.setAttribute("class","bb-bb7-pill-button-highlight "+b),r.onmouseover=null,r.onmouseout=null):(r.setAttribute("class","bb-bb7-pill-button "+b),r.setAttribute(t,"this.setAttribute('class','bb-bb7-pill-button-highlight "+b+"')"),r.setAttribute(e,"this.setAttribute('class','bb-bb7-pill-button "+b+"')"))}},!1)}i.show=function(){this.style.display="block",bb.refresh()},i.show=i.show.bind(i),i.hide=function(){this.style.display="none",bb.refresh()},i.hide=i.hide.bind(i),i.remove=function(){this.parentNode.removeChild(this),bb.refresh()},i.remove=i.remove.bind(i),i.getButtons=function(){for(var t=this.querySelectorAll("[data-bb-type=pill-button]"),e=Array(),i=0;t.length>i;i++)e[i]=t[i].innerHTML;return e},i.getButtons=i.getButtons.bind(i)}}},_bb_6_7_textInput={apply:function(t){for(var e=0;t.length>e;e++){var i=t[e],n=i.getAttribute("class");n+=" bb-bb7-input",n+=bb.device.isHiRes?" bb-bb7-input-hires":" bb-bb7-input-lowres",i.setAttribute("class",n)}}};